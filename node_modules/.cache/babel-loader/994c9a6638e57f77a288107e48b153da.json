{"ast":null,"code":"var _jsxFileName = \"/Users/ioanna/Desktop/projects/rick-n-morty/src/components/Home.js\";\nimport React, { useEffect } from \"react\";\nimport SearchForm from \"./SearchForm\";\nimport CharacterList from \"./CharacterList\";\nimport Pagination from \"./Pagination\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { setSearchParams, fetchCharacters } from \"../actions/searchActions\";\nimport * as QueryString from \"query-string\";\n\nfunction Home() {\n  const name = useSelector(state => state.characters.name);\n  const gender = useSelector(state => state.characters.gender);\n  const page = useSelector(state => state.characters.page);\n  const characters = useSelector(state => state.characters.data);\n  let location = useLocation();\n  const params = QueryString.parse(location.search);\n  useEffect(() => {\n    paramsInitialization();\n  }, [params.name, params.gender, params.page]);\n\n  const paramsInitialization = () => {\n    const name = params && params.name ? params.name : \"\";\n    const gender = params && params.gender ? params.gender : \"\";\n    const page = params && params.page ? params.page : 1;\n    dispatch(setSearchParams(\"name\", name));\n    dispatch(setSearchParams(\"gender\", gender));\n    dispatch(setSearchParams(\"page\", parseInt(page)));\n    dispatch(fetchCharacters(name, gender, page));\n  };\n\n  let history = useHistory();\n  const dispatch = useDispatch();\n\n  const onInputChange = (valueType, e) => {\n    dispatch(setSearchParams(valueType, e.target.value));\n  };\n\n  const onPageChange = action => {\n    let pageNumber = parseInt(page);\n    action === \"prev\" ? pageNumber = parseInt(page) - 1 : pageNumber = parseInt(page) + 1;\n    dispatch(setSearchParams(\"page\", pageNumber));\n    history.replace({\n      search: `?name=${name}&gender=${gender}&page=${pageNumber}`\n    });\n  };\n\n  const updateParams = () => {\n    history.push({\n      search: `?name=${name}&gender=${gender}&page=${page}`\n    });\n  };\n\n  const onSubmit = e => {\n    e.preventDefault();\n    updateParams();\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(SearchForm, {\n    onChange: onInputChange,\n    onSubmit: onSubmit,\n    name: name,\n    gender: gender,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(CharacterList, {\n    characters: characters,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Pagination, {\n    changePage: onPageChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default Home;","map":{"version":3,"sources":["/Users/ioanna/Desktop/projects/rick-n-morty/src/components/Home.js"],"names":["React","useEffect","SearchForm","CharacterList","Pagination","useHistory","useLocation","useSelector","useDispatch","setSearchParams","fetchCharacters","QueryString","Home","name","state","characters","gender","page","data","location","params","parse","search","paramsInitialization","dispatch","parseInt","history","onInputChange","valueType","e","target","value","onPageChange","action","pageNumber","replace","updateParams","push","onSubmit","preventDefault"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport SearchForm from \"./SearchForm\";\nimport CharacterList from \"./CharacterList\";\nimport Pagination from \"./Pagination\";\nimport { useHistory, useLocation} from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { setSearchParams, fetchCharacters } from \"../actions/searchActions\";\n\nimport * as QueryString from \"query-string\";\n\nfunction Home() {\n  const name = useSelector((state) => state.characters.name);\n  const gender = useSelector((state) => state.characters.gender);\n  const page = useSelector((state) => state.characters.page);\n  const characters = useSelector((state) => state.characters.data);\n\n  let location = useLocation();\n  const params = QueryString.parse(location.search);\n\n  useEffect(() => {\n    paramsInitialization();\n  }, [params.name, params.gender, params.page]);\n\n  const paramsInitialization = () => {\n    const name = params && params.name ? params.name : \"\";\n    const gender = params && params.gender ? params.gender : \"\";\n    const page = params && params.page ? params.page : 1;\n\n    dispatch(setSearchParams(\"name\", name));\n    dispatch(setSearchParams(\"gender\", gender));\n    dispatch(setSearchParams(\"page\", parseInt(page)));\n    dispatch(fetchCharacters(name, gender, page));\n  };\n\n  let history = useHistory();\n  const dispatch = useDispatch();\n\n  const onInputChange = (valueType, e) => {\n    dispatch(setSearchParams(valueType, e.target.value));\n  };\n\n  const onPageChange = (action) => {\n    let pageNumber = parseInt(page);\n    action === \"prev\"\n      ? (pageNumber = parseInt(page) - 1)\n      : (pageNumber = parseInt(page) + 1);\n\n    dispatch(setSearchParams(\"page\", pageNumber));\n    history.replace({\n      search: `?name=${name}&gender=${gender}&page=${pageNumber}`,\n    });\n  };\n\n  const updateParams = () => {\n    history.push({\n      search: `?name=${name}&gender=${gender}&page=${page}`,\n    });\n  };\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    updateParams();\n  };\n  return (\n    <div className=\"container\">\n      <SearchForm\n        onChange={onInputChange}\n        onSubmit={onSubmit}\n        name={name}\n        gender={gender}\n      />\n      <CharacterList characters={characters} />\n      <Pagination changePage={onPageChange} />\n    </div>\n  );\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}